(this["webpackJsonphospital-app"]=this["webpackJsonphospital-app"]||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(19),s=a.n(r),i=a(8),j=a(14),l=a.n(j),o=a(17),d=a(6),b=a(68),u=a(66),O=a(67),h=a(65),x=a(37),p=a.n(x),m=(a(52),p.a.initializeApp({apiKey:"AIzaSyClz1zH1iTnYss43nGEGvlCoy_g7LNkzs4",authDomain:"hospital-app-a33ee.firebaseapp.com",databaseURL:"https://hospital-app-a33ee-default-rtdb.firebaseio.com",projectId:"hospital-app-a33ee",storageBucket:"hospital-app-a33ee.appspot.com",messagingSenderId:"117265798382",appId:"1:117265798382:web:2071b465c341698f26cfff"})),f=m.auth(),v=a(1),g=n.a.createContext();function w(){return Object(c.useContext)(g)}function N(e){var t=e.children,a=Object(c.useState)(),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(!0),j=Object(d.a)(i,2),l=j[0],o=j[1];Object(c.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),o(!1)}))}),[]);var b={currentUser:r,login:function(e,t){return f.signInWithEmailAndPassword(e,t)},signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return r.updateEmail(e)},updatePassword:function(e){return r.updatePassword(e)}};return Object(v.jsx)(g.Provider,{value:b,children:!l&&t})}var Y=a(7);function y(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=w().signup,r=Object(c.useState)(""),s=Object(d.a)(r,2),j=s[0],x=s[1],p=Object(c.useState)(!1),m=Object(d.a)(p,2),f=m[0],g=m[1],N=Object(Y.g)();function y(){return(y=Object(o.a)(l.a.mark((function c(r){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",x("Passwords do not match"));case 3:return c.prev=3,x(""),g(!0),c.next=8,n(e.current.value,t.current.value);case 8:N.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),x("Failed to create an account");case 14:g(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"container",style:{maxWidth:420},children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(b.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(v.jsx)(u.a,{variant:"danger",children:j}),Object(v.jsxs)(O.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(v.jsxs)(O.a.Group,{id:"email",children:[Object(v.jsx)(O.a.Label,{children:"Email"}),Object(v.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(O.a.Group,{id:"password",children:[Object(v.jsx)(O.a.Label,{children:"Password"}),Object(v.jsx)(O.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsxs)(O.a.Group,{id:"password-confirm",children:[Object(v.jsx)(O.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(O.a.Control,{type:"password",ref:a,required:!0})]}),Object(v.jsx)(h.a,{disabled:f,className:"w-100",type:"submit",children:"Sign Up"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(v.jsx)(i.b,{to:"/login",children:"Log In"})]})]})})})}function D(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=w().login,n=Object(c.useState)(""),r=Object(d.a)(n,2),s=r[0],j=r[1],x=Object(c.useState)(!1),p=Object(d.a)(x,2),m=p[0],f=p[1],g=Object(Y.g)();function N(){return(N=Object(o.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,j(""),f(!0),c.next=6,a(e.current.value,t.current.value);case 6:g.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),j("Failed to log in");case 12:f(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"container",style:{maxWidth:420},children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(b.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(v.jsx)(u.a,{variant:"danger",children:s}),Object(v.jsxs)(O.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(v.jsxs)(O.a.Group,{id:"email",children:[Object(v.jsx)(O.a.Label,{children:"Email"}),Object(v.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(O.a.Group,{id:"password",children:[Object(v.jsx)(O.a.Label,{children:"Password"}),Object(v.jsx)(O.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsx)(h.a,{disabled:m,className:"w-100",type:"submit",children:"Log In"})]}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(i.b,{to:"/forgot-password",children:"Forgot Password?"})}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(v.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})})})}var S=a(10),C=a(43);function M(e){var t=e.component,a=Object(C.a)(e,["component"]),c=w().currentUser;return Object(v.jsx)(Y.b,Object(S.a)(Object(S.a)({},a),{},{render:function(e){return c?Object(v.jsx)(t,Object(S.a)({},e)):Object(v.jsx)(Y.a,{to:"/login"})}}))}function k(){var e=Object(c.useRef)(),t=w().resetPassword,a=Object(c.useState)(""),n=Object(d.a)(a,2),r=n[0],s=n[1],j=Object(c.useState)(""),x=Object(d.a)(j,2),p=x[0],m=x[1],f=Object(c.useState)(!1),g=Object(d.a)(f,2),N=g[0],Y=g[1];function y(){return(y=Object(o.a)(l.a.mark((function a(c){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,m(""),s(""),Y(!0),a.next=7,t(e.current.value);case 7:m("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),s("Failed to reset password");case 13:Y(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(v.jsx)("div",{className:"container",style:{maxWidth:420},children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(b.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),r&&Object(v.jsx)(u.a,{variant:"danger",children:r}),p&&Object(v.jsx)(u.a,{variant:"success",children:p}),Object(v.jsxs)(O.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(v.jsxs)(O.a.Group,{id:"email",children:[Object(v.jsx)(O.a.Label,{children:"Email"}),Object(v.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsx)(h.a,{disabled:N,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(v.jsx)("div",{className:"w-100 text-center mt-3",children:Object(v.jsx)(i.b,{to:"/login",children:"Login"})}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(v.jsx)(i.b,{to:"/signup",children:"Sign Up"})]})]})})})}function P(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=w(),r=n.currentUser,s=n.updatePassword,j=n.updateEmail,l=Object(c.useState)(""),o=Object(d.a)(l,2),x=o[0],p=o[1],m=Object(c.useState)(!1),f=Object(d.a)(m,2),g=f[0],N=f[1],y=Object(Y.g)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{children:Object(v.jsxs)(b.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),x&&Object(v.jsx)(u.a,{variant:"danger",children:x}),Object(v.jsxs)(O.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return p("Passwords do not match");var n=[];N(!0),p(""),e.current.value!==r.email&&n.push(j(e.current.value)),t.current.value&&n.push(s(t.current.value)),Promise.all(n).then((function(){y.push("/")})).catch((function(){p("Failed to update account")})).finally((function(){N(!1)}))},children:[Object(v.jsxs)(O.a.Group,{id:"email",children:[Object(v.jsx)(O.a.Label,{children:"Email"}),Object(v.jsx)(O.a.Control,{type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(v.jsxs)(O.a.Group,{id:"password",children:[Object(v.jsx)(O.a.Label,{children:"Password"}),Object(v.jsx)(O.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(v.jsxs)(O.a.Group,{id:"password-confirm",children:[Object(v.jsx)(O.a.Label,{children:"Password Confirmation"}),Object(v.jsx)(O.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(v.jsx)(h.a,{disabled:g,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(v.jsx)("div",{className:"w-100 text-center mt-2",children:Object(v.jsx)(i.b,{to:"/",children:"Cancel"})})]})}var L=a(18),R=a(42),E=a(16),A=a.n(E),U=a(41),B=a.n(U);var G=function(e){var t=e.value,a=void 0===t?"":t,c=e.type,n=void 0===c?"text":c,r=e.onChange,s=e.label,i=e.name;return Object(v.jsxs)("div",{className:"row no-border",children:[Object(v.jsx)("label",{className:"input-label",children:s}),Object(v.jsx)("input",{className:"input-box",type:n,value:a,name:i,onChange:r})]})};var I=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)({}),s=Object(d.a)(r,2),i=s[0],j=s[1],l=Object(c.useState)(!1),o=Object(d.a)(l,2),b=o[0],u=o[1],O=function(e){n(e);var t=A()().format("MM-YYYY");localStorage.setItem(t,JSON.stringify(e)),j({})};Object(c.useEffect)((function(){try{var e=A()().format("MM-YYYY"),t=localStorage.getItem(e);t&&t.length&&n(JSON.parse(t))}catch(a){}}),[]);var h=A()().format("YYYY-MM-DD");return i.createdDate&&(h=A()(i.createdDate,"MM-DD-YYYY").format("YYYY-MM-DD")),Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("div",{className:"App-header",children:[Object(v.jsxs)("div",{className:"list",children:[Object(v.jsx)("h2",{className:"heading",children:"List"}),Object(v.jsx)("div",{className:"list-container",children:a.length>0?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"row header",children:[Object(v.jsx)("div",{className:"name",children:"Name"}),Object(v.jsxs)("div",{className:"date",children:[Object(v.jsx)("div",{children:"Date "}),Object(v.jsx)("div",{className:"sub-text",children:"(MM-DD-YYYY)"})]}),Object(v.jsx)("div",{className:"scan",children:"Scan"}),Object(v.jsx)("div",{className:"amount",children:"Amount"}),Object(v.jsx)("div",{className:"refered",children:"Refered By"}),Object(v.jsx)("div",{className:"action",children:"Actions"})]}),a.map((function(e){return Object(v.jsxs)("div",{className:"row details",children:[Object(v.jsx)("div",{className:"name",children:e.name}),Object(v.jsx)("div",{className:"date",children:e.createdDate}),Object(v.jsx)("div",{className:"scan",children:e.scan}),Object(v.jsx)("div",{className:"amount",children:e.amount}),Object(v.jsx)("div",{className:"refered",children:e.referedBy}),Object(v.jsxs)("div",{className:"action",children:[Object(v.jsx)("button",{onClick:function(){j(e),u(!0)},children:"Edit"}),Object(v.jsx)("button",{onDoubleClick:function(){!function(e){var t=a.filter((function(t){return e.id!==t.id}));O(t)}(e)},children:"Delete"})]})]})}))]}):Object(v.jsx)("div",{className:"zero-state",children:"No Data"})})]}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("h2",{className:"heading",children:"Add Patient"}),Object(v.jsxs)("div",{className:"form-container",children:[Object(v.jsx)(G,{label:"Name",value:i.name,name:"name",onChange:function(e){var t=e.target,a=t.name,c=t.value;j(Object(S.a)(Object(S.a)({},i),{},Object(L.a)({},a,c)))}}),Object(v.jsx)(G,{label:"Date",value:h,name:"date",onChange:function(e){var t=e.target,a=(t.name,t.value),c=A()().format("MM-DD-YYYY");a&&(c=A()(a,"YYYY-MM-DD").format("MM-DD-YYYY")),j(Object(S.a)(Object(S.a)({},i),{},{createdDate:c}))},type:"date"}),Object(v.jsx)(G,{label:"Scan",value:i.scan,name:"scan",onChange:function(e){var t=e.target,a=t.name,c=t.value;j(Object(S.a)(Object(S.a)({},i),{},Object(L.a)({},a,c)))}}),Object(v.jsx)(G,{label:"Amount",value:i.amount,name:"amount",onChange:function(e){var t=e.target,a=t.name,c=t.value;j(Object(S.a)(Object(S.a)({},i),{},Object(L.a)({},a,c)))}}),Object(v.jsx)(G,{label:"Refered By",value:i.referedBy,name:"referedBy",onChange:function(e){var t=e.target,a=t.name,c=t.value;j(Object(S.a)(Object(S.a)({},i),{},Object(L.a)({},a,c)))}}),Object(v.jsx)("br",{}),b?Object(v.jsx)("button",{onClick:function(){u(!1),function(){var e=a.map((function(e){return i.id===e.id?Object(S.a)(Object(S.a)({},i),{},{updatedDate:A()().format("MM-DD-YYYY")}):e}));O(e)}()},children:"Update"}):Object(v.jsx)("button",{onClick:function(){!function(){i.id=B()();var e=A()().format("MM-DD-YYYY");i.value&&(e=A()(i.value,"YYYY-MM-DD").format("MM-DD-YYYY")),i.createdDate=e,i.updateData=e;var t=Object(R.a)(a);t.push(i),O(t)}()},children:"Add"}),Object(v.jsx)("button",{onClick:function(){j({}),u(!1)},children:"Clear"})]})]})]})})};var F=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=(t[0],t[1]),n=w(),r=n.currentUser,s=n.logout,j=Object(Y.g)();function b(){return(b=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s();case 4:j.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(v.jsxs)("header",{children:[Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{className:"nav-area",children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/",children:"Home"})}),r&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/patients",children:"Patients"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/reports",children:"Reports"})}),Object(v.jsx)("li",{children:Object(v.jsx)(i.b,{to:"/settings",children:"Settings"})})]})]})}),r&&Object(v.jsx)(h.a,{variant:"link",onClick:function(){return b.apply(this,arguments)},children:"Log Out"})]})};var q=function(){return Object(v.jsx)(N,{children:Object(v.jsxs)("div",{className:"w-100",children:[Object(v.jsx)(F,{}),Object(v.jsx)("div",{children:Object(v.jsxs)(Y.d,{children:[Object(v.jsx)(M,{exact:!0,path:"/",component:I}),Object(v.jsx)(M,{path:"/update-profile",component:P}),Object(v.jsx)(Y.b,{path:"/signup",component:y}),Object(v.jsx)(Y.b,{path:"/login",component:D}),Object(v.jsx)(Y.b,{path:"/forgot-password",component:k})]})})]})})};a(61),a(62);s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(q,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.d3b39b44.chunk.js.map